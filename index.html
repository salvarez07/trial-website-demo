<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Coveo Demo | Website</title>

    <link
      rel="stylesheet"
      href="https://static.cloud.coveo.com/atomic/v1/themes/coveo.css"
    />
    <link rel="stylesheet" href="styles/style.css" />

    <script
      type="module"
      src="https://static.cloud.coveo.com/atomic/v1/atomic.esm.js"
    ></script>

    <script>
      (async () => {
        await customElements.whenDefined("atomic-search-interface");
        const searchInterface = document.querySelector("#search");

        await searchInterface.initialize({
          accessToken: "xxed327f95-ad2c-454f-ae9d-e4b08098553f",
          organizationId: "trialdemowebja9n0qm8",
        });

        searchInterface.executeFirstSearch();
      })();
    </script>
  </head>

  <body>
    <div class="demo-banner">
      <span>This is a demo search page built with <u>Coveo</u></span>
    </div>
    <atomic-search-interface id="search" analytics="false" pipeline="Website Search">
      <div class="logo">
        <img src="images/CoveoLogo.png" />
      </div>
      <atomic-search-box></atomic-search-box>
      <atomic-facet-manager>
        <atomic-facet field="source" label="Content type"></atomic-facet>
        <atomic-facet field="author" label="Author"></atomic-facet>
        <atomic-facet field="concepts" label="Tags"></atomic-facet>
        <atomic-numeric-facet field="course_duration" label="Course duration">
          <atomic-format-unit unit="minute"></atomic-format-unit>
          <!-- TODO: add custom ranges -->
        </atomic-numeric-facet>
        <atomic-numeric-facet field="ytvideoduration" label="Video duration">
          <atomic-format-unit unit="second"></atomic-format-unit>
          <!-- TODO: add custom ranges -->
        </atomic-numeric-facet>
      </atomic-facet-manager>
      <atomic-breadbox></atomic-breadbox>
      <div class="topbar">
        <atomic-query-summary enable-duration="false"></atomic-query-summary>
        <atomic-refine-toggle></atomic-refine-toggle>
        <atomic-sort-dropdown>
          <atomic-sort-expression
            label="relevance"
            expression="relevancy"
          ></atomic-sort-expression>
          <atomic-sort-expression
            label="most-recent"
            expression="date descending"
          ></atomic-sort-expression>
        </atomic-sort-dropdown>
      </div>
      <div class="results">
        <atomic-did-you-mean></atomic-did-you-mean>
        <atomic-result-list
          image="small"
          fields-to-include="title, description, concepts, excerpt, author, ytthumbnailurl, sourcetype, course_image"
        >
          <atomic-result-template>
            <template>
              <style>
                .field {
                  display: inline-flex;
                  white-space: nowrap;
                  align-items: center;
                }

                .field-label {
                  font-weight: bold;
                  margin-right: 0.25rem;
                }

                atomic-result-section-visual {
                  --atomic-neutral: transparent;
                  ----atomic-border-radius-xl: 0px;
                }

                atomic-result-section-visual img {
                  border-radius: 1rem;
                }
              </style>
              <atomic-result-section-visual>
                <atomic-field-condition
                  must-match-source="Coveo - YouTube Playlists"
                >
                  <atomic-result-image
                    field="ytthumbnailurl"
                  ></atomic-result-image>
                </atomic-field-condition>
                <atomic-field-condition
                  must-match-source="Coveo - Academy Courses"
                >
                  <atomic-result-image
                    field="course_image"
                  ></atomic-result-image>
                </atomic-field-condition>
              </atomic-result-section-visual>
              <atomic-result-section-badges>
                <atomic-result-badge field="sourcetype"></atomic-result-badge>
              </atomic-result-section-badges>
              <atomic-result-section-title>
                <atomic-result-link></atomic-result-link>
              </atomic-result-section-title>
              <atomic-result-section-title-metadata>
                <atomic-result-printable-uri></atomic-result-printable-uri>
              </atomic-result-section-title-metadata>
              <atomic-result-section-excerpt>
                <atomic-result-text field="excerpt"></atomic-result-text>
                <!-- TODO: add boosted tag -->
              </atomic-result-section-excerpt>
              <atomic-result-section-bottom-metadata>
                <atomic-result-fields-list>
                  <span class="field">
                    <span class="field-label">
                      <atomic-text value="source"></atomic-text>:
                    </span>
                    <atomic-result-text field="source"></atomic-result-text>
                  </span>

                  <span class="field">
                    <span class="field-label">
                      <atomic-text value="language"></atomic-text>:
                    </span>
                    <atomic-result-multi-value-text
                      field="language"
                    ></atomic-result-multi-value-text>
                  </span>

                  <span class="field">
                    <span class="field-label"> Date: </span>
                    <atomic-result-date></atomic-result-date>
                  </span>

                  <span class="field">
                    <span class="field-label"> Tags: </span>
                    <atomic-result-multi-value-text
                      field="concepts"
                    ></atomic-result-multi-value-text>
                  </span>
                </atomic-result-fields-list>
              </atomic-result-section-bottom-metadata>
            </template>
          </atomic-result-template>
          <atomic-result-template must-match-source="Coveo - Blog">
            <template>Blog</template>
          </atomic-result-template>
        </atomic-result-list>
      </div>
      <div class="pagination">
        <atomic-load-more-results></atomic-load-more-results>
      </div>
      <div class="status">
        <atomic-query-error></atomic-query-error>
        <atomic-no-results></atomic-no-results>
      </div>
    </atomic-search-interface>
  </body>
</html>
